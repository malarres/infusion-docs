<!DOCTYPE html>
<html lang="en">
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Progressive Enhancement | Fluid Infusion</title>
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/foundation.css">
        <link rel="stylesheet" href="css/highlightjs-custom.css">
        <link rel="stylesheet" type="text/css" href="lib/infusion/src/framework/preferences/css/Enactors.css" />
        <link rel="stylesheet" type="text/css" href="lib/infusion/src/framework/preferences/css/PrefsEditor.css" />
        <link rel="stylesheet" type="text/css" href="lib/infusion/src/framework/preferences/css/SeparatedPanelPrefsEditor.css" />
        <link rel="stylesheet" href="css/infusion-docs.css">

        <link rel="icon" type="image/png" href="images/favico.png">

        <script type="text/javascript" src="lib/infusion/infusion-uio.js"></script>
    </head>
    <body class="infusion-docs">

        <div class="container infusion-docs-container">

            <!-- BEGIN markup for Preference Editor -->
            <div class="flc-prefsEditor-separatedPanel fl-prefsEditor-separatedPanel">
                <!-- This is the div that will contain the Preference Editor component -->
                <div class="flc-slidingPanel-panel flc-prefsEditor-iframe"></div>

                <!-- This div is for the sliding panel that shows and hides the Preference Editor controls -->
                <div class="fl-panelBar">
                    <span class="fl-prefsEditor-buttons">
                        <button id="reset" class="flc-prefsEditor-reset fl-prefsEditor-reset"><span class="fl-icon-undo"></span> Reset</button>
                        <button id="show-hide" class="flc-slidingPanel-toggleButton fl-prefsEditor-showHide"> Show/Hide</button>
                    </span>
                </div>
            </div>
            <!-- END markup for Preference Editor -->

            <script type="text/javascript">
                fluid.uiOptions.prefsEditor(".flc-prefsEditor-separatedPanel", {
                    "templatePrefix": "lib/infusion/src/framework/preferences/html/",
                    "messagePrefix": "lib/infusion/src/framework/preferences/messages/",
                    "tocTemplate": "lib/infusion/src/components/tableOfContents/html/TableOfContents.html"
                });
            </script>

            <header class="row infusion-docs-header">
                <div class="infusion-docs-fluidLogo small-12 medium-3 column">
                    <a class="infusion-docs-fluidLogoText" href="index.html" title="Infusion">infusion</a>
                </div>

                <nav class="small-12 medium-9 column">
                    <a href="index.html" title="Infusion">Infusion</a>
                    <a href="index-tutorials.html" title="Tutorials">Tutorials</a>
                    <a href="index-api.html" title="A P I">API</a>
                </nav>
            </header>

            <div class="row infusion-docs-mainBody">
                <nav class="infusion-docs-TOC small-12 medium-3 column">
                    
                        
                        
                            <span class="infusion-docs-category">Infusion</span>
                            
                                <span class="infusion-docs-sectionName">Components</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="FrameworkConcepts.html"><span class="infusion-docs-TOC-pageName">Framework Concepts</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="UnderstandingInfusionComponents.html"><span class="infusion-docs-TOC-pageName">Understanding Infusion Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ComponentOptionsAndDefaults.html"><span class="infusion-docs-TOC-pageName">Understanding Component Options And Their Defaults</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ComponentConfigurationOptions.html"><span class="infusion-docs-TOC-pageName">Component Configuration Options</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ComponentGrades.html"><span class="infusion-docs-TOC-pageName">Component Grades</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="OptionsMerging.html"><span class="infusion-docs-TOC-pageName">Options Merging</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ComponentLifecycle.html"><span class="infusion-docs-TOC-pageName">Component Lifecycle</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="DOMBinder.html"><span class="infusion-docs-TOC-pageName">DOM Binder</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">Inversion of Control</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="HowToUseInfusionIoC.html"><span class="infusion-docs-TOC-pageName">How To Use Infusion IoC</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="SubcomponentDeclaration.html"><span class="infusion-docs-TOC-pageName">Subcomponent Declaration</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="Contexts.html"><span class="infusion-docs-TOC-pageName">Contexts</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="Invokers.html"><span class="infusion-docs-TOC-pageName">Invokers</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ExpansionOfComponentOptions.html"><span class="infusion-docs-TOC-pageName">Expansion Of Component Options</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="IoCSS.html"><span class="infusion-docs-TOC-pageName">IoCSS</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="DeclarativeThisismInIoC.html"><span class="infusion-docs-TOC-pageName">Declarative this-ism In IoC</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="IoCReferences.html"><span class="infusion-docs-TOC-pageName">IoC References</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">Events</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="Events.html"><span class="infusion-docs-TOC-pageName">Events</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="InfusionEventSystem.html"><span class="infusion-docs-TOC-pageName">Infusion Event System</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="EventInjectionAndBoiling.html"><span class="infusion-docs-TOC-pageName">Event injection and boiling</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">ChangeApplier</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="ChangeApplier.html"><span class="infusion-docs-TOC-pageName">ChangeApplier</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">Renderer</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="Renderer.html"><span class="infusion-docs-TOC-pageName">Renderer</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="HowToUseTheRenderer.html"><span class="infusion-docs-TOC-pageName">How To Use the Renderer</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="RendererComponentTrees.html"><span class="infusion-docs-TOC-pageName">Renderer Component Trees</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ProtoComponentTypes.html"><span class="infusion-docs-TOC-pageName">ProtoComponent Types</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="RendererComponentTreeExpanders.html"><span class="infusion-docs-TOC-pageName">Renderer Component Tree Expanders</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="Cutpoints.html"><span class="infusion-docs-TOC-pageName">Cutpoints</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="RendererComponents.html"><span class="infusion-docs-TOC-pageName">Renderer Components</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="RendererDecorators.html"><span class="infusion-docs-TOC-pageName">Renderer Decorators</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">Preferences Framework</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="PreferencesFramework.html"><span class="infusion-docs-TOC-pageName">Preferences Framework</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="PreferencesEditor.html"><span class="infusion-docs-TOC-pageName">Preferences Editor</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="Builder.html"><span class="infusion-docs-TOC-pageName">Builder</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="PrimarySchemaForPreferencesFramework.html"><span class="infusion-docs-TOC-pageName">Primary Schema</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="AuxiliarySchemaForPreferencesFramework.html"><span class="infusion-docs-TOC-pageName">Auxiliary Schema</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ConnectingThePartsOfAPreferencesEditor.html"><span class="infusion-docs-TOC-pageName">Connecting the Parts of a Preferences Editor</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="Enactors.html"><span class="infusion-docs-TOC-pageName">Enactors</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="Panels.html"><span class="infusion-docs-TOC-pageName">Panels</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="CompositePanels.html"><span class="infusion-docs-TOC-pageName">Composite Panels</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ConditionalSubpanels.html"><span class="infusion-docs-TOC-pageName">Conditional Subpanels</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="LocalizationInThePreferencesFramework.html"><span class="infusion-docs-TOC-pageName">Localization in the Preferences Framework</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">General</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="ModelRelay.html"><span class="infusion-docs-TOC-pageName">Model Relay</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <span class="infusion-docs-TOC-pageName">Progressive Enhancement</span>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="ClassNameConventions.html"><span class="infusion-docs-TOC-pageName">Class Name Conventions</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="IoCTestingFramework.html"><span class="infusion-docs-TOC-pageName">IoC Testing Framework</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">Migrating to Infusion 1.5</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="APIChangesFrom1_4To1_5.html"><span class="infusion-docs-TOC-pageName">API Changes from 1.4 to 1.5</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="DeprecationsIn1_5.html"><span class="infusion-docs-TOC-pageName">Deprecations In 1.5</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="tutorial-migratingToInfusion1.5/UIOptionsMigration.html"><span class="infusion-docs-TOC-pageName">UI Options Migration</span></a>
                                            
                                        </li>
                                    
                                        <li>
                                            
                                                <a href="tutorial-migratingToInfusion1.5/PagerMigration.html"><span class="infusion-docs-TOC-pageName">Pager Migration</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                                <span class="infusion-docs-sectionName">Migrating to Infusion 2.0</span>
                                <ul>
                                    
                                        <li>
                                            
                                                <a href="APIChangesFrom1_5To2_0.html"><span class="infusion-docs-TOC-pageName">API Changes from 1.5 to 2.0</span></a>
                                            
                                        </li>
                                    
                                </ul>
                            
                        
                    
                        
                        
                    
                        
                        
                    
                </nav>

                <article class="infusion-docs-mainContent small-12 medium-9 column">

                    <div class="flc-toc-tocContainer infusion-docs-toc"> </div>

                    <h1>Progressive Enhancement</h1>

                    <p class="infusion-docs-githubLink"><a href="https://github.com/fluid-project/infusion-docs/blob/master/src/documents/ProgressiveEnhancement.md" target="_blank">Edit on GitHub</a></p>

                    

                    <div class="infusion-docs-articleBody">
                        <div class="infusion-docs-note"><strong>Note:</strong> This functionality is <strong>Sneak Peek</strong> status. This means that the <strong>APIs may change</strong>. We welcome your feedback, ideas, and code, but please use caution if you use this new functionality.</div>

<p>The Infusion Framework&#39;s Progressive Enhancement module provides support for automatic detection of browser features. The results of the checks can be used to influence the configuration of components, etc.</p>
<h2 id="basic-usage">Basic Usage</h2>
<pre class="highlight"><code class="hljs javascript">fluid.enhance.check({
    check1: <span class="hljs-string">"my.checking.function1"</span>,
    check2: <span class="hljs-string">"my.checking.function2"</span>,
    ...
});
</code></pre>
<p>The function <code>fluid.enhance.check()</code> will execute the specified functions and store the results in the static environment using the associated key (e.g. <code>check1</code>). The presence of the tags in the static environment can be used in the context argument to <code>fluid.demands()</code>.</p>
<p>The function can also be used to register a simple boolean value, for example to distinguish a testing or development environment from a production environment, or to identify an environment for backward compatibility:</p>
<pre class="highlight"><code class="hljs javascript">fluid.enhance.check({
    <span class="hljs-string">"fluid.uploader.fluid_1_3"</span> : <span class="hljs-literal">true</span>
});
</code></pre>
<h2 id="framework-check-functions">Framework Check Functions</h2>
<p>The <strong>Progressive Enhancement</strong> module includes several functions that can check for particular features for you:</p>
<table>
    <thead>
        <tr>
            <th>Function Name</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>fluid.enhance.isBrowser</code></td>
            <td>
                Determines whether or not the environment is a web browser.
            </td>
        </tr>
        <tr>
            <td><code>fluid.enhance.supportsBinaryXHR</code></td>
            <td>
                Determines whether or not the browser supports binary XHR.
            </td>
        </tr>
        <tr>
            <td><code>fluid.enhance.supportsFormData</code></td>
            <td>
                Determines whether or not the browser supports form data.
            </td>
        </tr>
        <tr>
            <td><code>fluid.enhance.supportsFlash</code></td>
            <td>
                Determines whether or not the browser supports Flash.
            </td>
        </tr>
    </tbody>
</table>

<p>These (or any subset of them) can be used as necessary, for example:</p>
<pre class="highlight"><code class="hljs javascript">fluid.enhance.check({
    <span class="hljs-string">"fluid.browser.supportsFlash"</span>: <span class="hljs-string">"fluid.enhance.supportsFlash"</span>
});
</code></pre>
<h2 id="clearing-results">Clearing Results</h2>
<p>The <strong>Progressive Enhancement</strong> module provides two functions that can be used to clear the results of previous checks from the static environment. These may be useful in a testing environment, for example.</p>
<table>
    <thead>
        <tr>
            <th>Function Name</th>
            <th>Arguments</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>fluid.enhance.forget</code></td>
            <td>(String) typeName</td>
            <td>
                Clears the result of the named check from the static environment.
            </td>
        </tr>
        <tr>
            <td><code>fluid.enhance.forgetAll</code></td>
            <td>none</td>
            <td>
                Clears all of the keys added by fluid.enhance.check().
            </td>
        </tr>
    </tbody>
</table>

<h2 id="examples">Examples</h2>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// Define a function that determines whether or not the current browser supports video in full-screen mode.</span>
fluid.videoPlayer.controllers.supportFullscreen = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
    <span class="hljs-keyword">var</span> fullscreenFnNames = [<span class="hljs-string">"requestFullScreen"</span>, <span class="hljs-string">"mozRequestFullScreen"</span>, <span class="hljs-string">"webkitRequestFullScreen"</span>, <span class="hljs-string">"oRequestFullScreen"</span>, <span class="hljs-string">"msieRequestFullScreen"</span>];
    <span class="hljs-keyword">return</span> fluid.find(fullscreenFnNames, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(name)</span> {</span>
        <span class="hljs-keyword">return</span> !!$(<span class="hljs-string">"&lt;div&gt;&lt;/div&gt;"</span>)[<span class="hljs-number">0</span>][name] || <span class="hljs-literal">undefined</span>;
    });
};

<span class="hljs-comment">// Register the result of the check in the static environment.</span>
fluid.enhance.check({
    <span class="hljs-string">"fluid.browser.supportsFullScreen"</span>: <span class="hljs-string">"fluid.videoPlayer.controllers.supportFullscreen"</span>,
});

<span class="hljs-comment">// Use the check result to enable a full-screen button only in browsers that support full-screen.</span>
<span class="hljs-comment">// If full-screen is not supported, the default configuration for "fullScreenButton" is an empty subcomponent.</span>
fluid.demands(<span class="hljs-string">"fullScreenButton"</span>, [<span class="hljs-string">"fluid.browser.supportsFullScreen"</span>], {
    funcName: <span class="hljs-string">"fluid.toggleButton"</span>,
    container: <span class="hljs-string">"{controllers}.container"</span>,
    options: fullScreenButtonOptions
});
</code></pre>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// Define a function that determines whether or not the current browser is Safari.</span>
fluid.videoPlayer.isSafari = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
    <span class="hljs-keyword">var</span> ua = navigator.userAgent.toLowerCase();
    <span class="hljs-keyword">return</span> ((ua.indexOf(<span class="hljs-string">"safari"</span>) &gt; <span class="hljs-number">0</span>) &amp;&amp; (ua.indexOf(<span class="hljs-string">"chrome"</span>) &lt; <span class="hljs-number">0</span>)) ? fluid.typeTag(<span class="hljs-string">"fluid.browser.safari"</span>) : <span class="hljs-literal">undefined</span>;
};

<span class="hljs-comment">// Register the result of the check in the static environment.</span>
fluid.enhance.check({
    <span class="hljs-string">"fluid.browser.safari"</span>: <span class="hljs-string">"fluid.videoPlayer.isSafari"</span>
});

<span class="hljs-comment">// Use the check result to configure a custom function that will override the default if the browser is Safari.</span>
fluid.demands(<span class="hljs-string">"fluid.videoPlayer.showControllers"</span>, [<span class="hljs-string">"fluid.browser.safari"</span>, <span class="hljs-string">"fluid.videoPlayer"</span>], {
    funcName: <span class="hljs-string">"fluid.videoPlayer.showControllersSimple"</span>,
    args: [<span class="hljs-string">"{videoPlayer}"</span>]
});
fluid.demands(<span class="hljs-string">"fluid.videoPlayer.hideControllers"</span>, [<span class="hljs-string">"fluid.browser.safari"</span>, <span class="hljs-string">"fluid.videoPlayer"</span>], {
    funcName: <span class="hljs-string">"fluid.videoPlayer.hideControllersSimple"</span>,
    args: [<span class="hljs-string">"{videoPlayer}"</span>]
});
</code></pre>

                    </div>

                </article>

            </div>

            <footer class="row infusion-docs-footer">
                <p class="infusion-docs-footerInfusion">Infusion is created by the <a href="http://fluidproject.org/" target="_blank">Fluid Project</a>,<br/>
                a project of the <a href="http://idrc.ocad.ca/" target="_blank">Inclusive Design Research Centre</a> at <a href="http://www.ocadu.ca/" target="_blank">OCAD University</a>, funded by a grant from <a href="http://www.mellon.org/" target="_blank">The Andrew W. Mellon Foundation</a>.</p>
            </footer>

        </div> <!-- end container -->

    </body>
</html>
